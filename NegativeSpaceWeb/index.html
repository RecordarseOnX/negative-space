<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NegativeSpace</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Manrope:wght@200;400;600&display=swap" rel="stylesheet">
    
    <style>
        body { background-color: #0a0a0a; color: #e5e5e5; font-family: 'Manrope', sans-serif; }
        .font-serif-display { font-family: 'Cinzel', serif; }
        
        /* Â∞ÅÈù¢‰∫§‰∫íÔºöÊûÅËá¥ÁöÑÁº©Êîæ‰∏éÂÖâÂΩ± */
        .cover-image {
            filter: grayscale(100%) contrast(1.1) brightness(0.9);
            transition: all 0.8s cubic-bezier(0.2, 1, 0.3, 1);
            transform: scale(1.0);
            will-change: transform, filter;
        }
        
        .card:hover .cover-image, .card.active .cover-image {
            filter: grayscale(0%) contrast(1) brightness(1);
            transform: scale(1.03);
        }
        
        .card.active .cover-container {
            box-shadow: 0 25px 50px -12px rgba(255, 255, 255, 0.15);
        }

        ::-webkit-scrollbar { width: 0px; }
    </style>
</head>
<body class="antialiased selection:bg-white selection:text-black flex flex-col min-h-screen">

    <!-- ‰ºòÂåñ 1: Á®çÂæÆÂáèÂ∞èÂØºËà™Ê†èÈ´òÂ∫¶ (py-10 -> py-8) -->
    <nav class="fixed top-0 w-full z-50 py-8 mix-blend-difference text-white">
        <div class="max-w-screen-2xl mx-auto px-6 md:px-12 flex justify-between items-end">
            <div class="text-2xl font-serif-display tracking-[0.2em] uppercase cursor-default leading-none">NegativeSpace</div>
            <div class="text-xs tracking-widest opacity-60 hidden md:block leading-none pb-1">CURATED HIGHLIGHTS</div>
        </div>
    </nav>

    <!-- ‰ºòÂåñ 2: ÂáèÂ∞èÈ°∂ÈÉ® Padding (pt-40 -> pt-28)ÔºåËÆ©ÂÜÖÂÆπÊï¥‰Ωì‰∏äÁßª -->
    <main class="flex-grow pt-28 pb-40 px-6 md:px-12 max-w-screen-2xl mx-auto w-full">
        
        <!-- ‰ºòÂåñ 3: ÂáèÂ∞èÊ†áÈ¢ò‰∏ãÊñπÁöÑ Margin (mb-24 -> mb-12)ÔºåÊãâËøëÂõæÁâá‰∏éÊñáÂ≠óÁöÑË∑ùÁ¶ª -->
        <header class="mb-12 fade-in">
            <!-- Á®çÂæÆË∞ÉÊï¥Â≠ó‰ΩìÂ§ßÂ∞èÔºåÈò≤Ê≠¢Âú®Â∞èÂ±èÂπïÁ¨îËÆ∞Êú¨‰∏äÊç¢Ë°åËøáÂ§öÂç†Áî®È´òÂ∫¶ -->
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-light leading-tight tracking-tight text-white/90">
                Imagine the rest. <br>
                <span class="font-serif-display text-white/50">More essence.</span>
            </h1>
        </header>

        <!-- ‰ºòÂåñ 4: Ë∞ÉÊï¥ Grid Èó¥Ë∑ù (gap-y-24 -> gap-y-16) -->
        <div id="grid-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-10 gap-y-16">
            <!-- JavaScript Will Render Cards Here -->
        </div>
    </main>

    <!-- Â∫ïÈÉ®Êí≠ÊîæÊù° -->
    <div id="player-bar" class="fixed bottom-0 left-0 w-full h-24 bg-[#0a0a0a]/90 backdrop-blur-xl border-t border-white/5 transform translate-y-full transition-transform duration-500 flex items-center px-8 justify-between z-50">
        <div class="flex items-center gap-6 w-1/4">
            <button id="main-play-btn" class="text-white hover:opacity-80 transition" onclick="togglePlay()">
                <svg id="icon-pause" class="w-8 h-8 fill-current hidden" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                <svg id="icon-play" class="w-8 h-8 fill-current" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
            </button>
            <div class="flex flex-col overflow-hidden">
                <span id="player-title" class="text-sm font-bold tracking-widest text-white truncate">SELECT A SONG</span>
                <span id="player-artist" class="text-xs text-neutral-500 tracking-widest uppercase truncate">ARTIST</span>
            </div>
        </div>
        
        <div class="flex-1 mx-12 flex items-center group">
            <span id="current-time" class="text-xs text-neutral-500 font-mono w-12 text-right">00:00</span>
            <div class="mx-4 flex-1 h-[1px] bg-neutral-800 relative cursor-pointer group-hover:h-[2px] transition-all" id="progress-container">
                <div id="progress-bar" class="absolute top-0 left-0 h-full bg-white w-0 transition-all duration-100 ease-linear"></div>
            </div>
            <span id="duration-time" class="text-xs text-neutral-500 font-mono w-12">00:00</span>
        </div>

        <div class="w-1/4 text-right text-xs text-neutral-600 tracking-[0.2em] hidden md:block">
            NOW PLAYING
        </div>
    </div>

    <audio id="audio-engine"></audio>

    <script>
        // ==========================================
        // üéµ ÈÖçÁΩÆÂå∫Âüü
        // ==========================================
        const playlist = [
            {
                id: 1,
                title: "Don't Mind",
                artist: "The Crane",
                file: "assets/audio/Highlight_The Crane (È∂¥) - Don't Mind (‰∏ç‰ªãÊÑè).mp3", 
                cover: "assets/covers/Highlight_The Crane (È∂¥) - Don't Mind (‰∏ç‰ªãÊÑè).jpg", 
                desc: "00:09 Highlight"
            },
            {
                id: 2, 
                title: "Playing God",
                artist: "Poluphia",
                file: "assets/audio/Highlight_Playing God-Poluphia.mp3",
                cover: "assets/covers/Highlight_Playing God-Poluphia.jpg",
                desc: "00:28 Highlight"
            },
            {
                id: 3, 
                title: "Settle Into Ash",
                artist: "MSR",
                file: "assets/audio/Highlight_MSR-Settle Into Ash.mp3",
                cover: "assets/covers/Highlight_MSR-Settle Into Ash.jpg",
                desc: "01:14 Highlight"
            },
        ];

        // ==========================================
        // ‚öôÔ∏è Á≥ªÁªüÈÄªËæë
        // ==========================================
        const audio = document.getElementById('audio-engine');
        const grid = document.getElementById('grid-container');
        const playerBar = document.getElementById('player-bar');
        const progressBar = document.getElementById('progress-bar');
        const progressContainer = document.getElementById('progress-container');
        let currentSongId = null;

        function renderPlaylist() {
            grid.innerHTML = playlist.map(song => `
                <div class="card group cursor-pointer" id="card-${song.id}" onclick="loadAndPlay(${song.id})">
                    <div class="cover-container aspect-[1/1] bg-neutral-900 mb-6 relative overflow-hidden">
                        <img src="${song.cover}" class="cover-image w-full h-full object-cover" alt="${song.title}">
                        <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition duration-500 z-10">
                            <div class="w-16 h-16 rounded-full border border-white/30 backdrop-blur-sm flex items-center justify-center bg-black/10 hover:bg-black/40 transition">
                                <svg class="w-6 h-6 fill-white ml-1" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col items-start space-y-1">
                        <h3 class="text-xl font-medium text-white tracking-wide group-hover:text-white/80 transition">${song.title}</h3>
                        <p class="text-xs text-neutral-500 tracking-[0.15em] uppercase font-semibold">${song.artist}</p>
                    </div>
                </div>
            `).join('');
        }

        function loadAndPlay(id) {
            const song = playlist.find(s => s.id === id);
            if (!song) return;

            if (currentSongId === id) {
                togglePlay();
                return;
            }

            document.querySelectorAll('.card').forEach(c => c.classList.remove('active'));
            const activeCard = document.getElementById(`card-${id}`);
            activeCard.classList.add('active');

            currentSongId = id;
            document.getElementById('player-title').textContent = song.title;
            document.getElementById('player-artist').textContent = song.artist;
            playerBar.classList.remove('translate-y-full');

            audio.src = song.file;
            audio.play().catch(e => console.log("Play blocked"));
            updatePlayIcon(true);
        }

        function togglePlay() {
            if (audio.paused) {
                audio.play();
                updatePlayIcon(true);
            } else {
                audio.pause();
                updatePlayIcon(false);
            }
        }

        function updatePlayIcon(isPlaying) {
            const playIcon = document.getElementById('icon-play');
            const pauseIcon = document.getElementById('icon-pause');
            if (isPlaying) {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
            } else {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            }
        }

        audio.addEventListener('timeupdate', () => {
            if (audio.duration) {
                const percent = (audio.currentTime / audio.duration) * 100;
                progressBar.style.width = `${percent}%`;
                document.getElementById('current-time').textContent = formatTime(audio.currentTime);
                document.getElementById('duration-time').textContent = formatTime(audio.duration);
            }
        });

        progressContainer.addEventListener('click', (e) => {
            const width = progressContainer.clientWidth;
            const clickX = e.offsetX;
            const duration = audio.duration;
            audio.currentTime = (clickX / width) * duration;
        });

        audio.addEventListener('ended', () => {
            updatePlayIcon(false);
        });

        function formatTime(seconds) {
            const min = Math.floor(seconds / 60);
            const sec = Math.floor(seconds % 60);
            return `${min < 10 ? '0' : ''}${min}:${sec < 10 ? '0' : ''}${sec}`;
        }

        renderPlaylist();
    </script>
</body>
</html>